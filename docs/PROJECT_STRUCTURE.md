# í”„ë¡œì íŠ¸ êµ¬ì¡°

## ğŸ“ Noxion ëª¨ë…¸ë ˆí¬ ì•„í‚¤í…ì²˜

```
noxion/
â”œâ”€â”€ ğŸ“¦ packages/                     # ë…ë¦½ì ì¸ npm íŒ¨í‚¤ì§€ë“¤
â”‚   â”œâ”€â”€ types/                       # @noxion/types - ê³µìœ  TypeScript íƒ€ì…
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts            # í•µì‹¬ íƒ€ì… ì •ì˜
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                        # @noxion/core - í•µì‹¬ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts            # ë©”ì¸ ë‚´ë³´ë‚´ê¸°
â”‚   â”‚   â”‚   â”œâ”€â”€ notion.ts           # Notion API í†µí•©
â”‚   â”‚   â”‚   â”œâ”€â”€ plugin-manager.ts   # í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ í•µì‹¬
â”‚   â”‚   â”‚   â”œâ”€â”€ multi-tenant-plugin-manager.ts  # ë©€í‹° í…Œë„ŒíŠ¸ í™•ì¥
â”‚   â”‚   â”‚   â”œâ”€â”€ cache.ts            # ìºì‹± ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”‚   â”œâ”€â”€ validation.ts       # ì…ë ¥ ê²€ì¦
â”‚   â”‚   â”‚   â”œâ”€â”€ error-handling.ts   # ì˜¤ë¥˜ ì²˜ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ utils.ts            # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚       â””â”€â”€ markdown-content.tsx
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â”œâ”€â”€ plugin-comments/             # @noxion/plugin-comments
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts            # í”ŒëŸ¬ê·¸ì¸ ì§„ì…ì 
â”‚   â”‚   â”‚   â”œâ”€â”€ server.ts           # ì„œë²„ ì‚¬ì´ë“œ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts           # í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ plugin.ts           # í”ŒëŸ¬ê·¸ì¸ ì •ì˜
â”‚   â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ routes.ts       # API ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ supabase.ts     # Supabase í†µí•©
â”‚   â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚   â”‚       â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚       â””â”€â”€ comments-section.tsx
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â”œâ”€â”€ plugin-analytics/            # @noxion/plugin-analytics
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts            # ë¶„ì„ í”ŒëŸ¬ê·¸ì¸
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â””â”€â”€ plugin-seo/                  # @noxion/plugin-seo
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â””â”€â”€ index.ts            # SEO í”ŒëŸ¬ê·¸ì¸
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ ğŸš€ apps/
â”‚   â””â”€â”€ web/                         # Next.js ë¸”ë¡œê·¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚       â”œâ”€â”€ app/                     # Next.js 14 App Router
â”‚       â”‚   â”œâ”€â”€ page.tsx            # í”Œë«í¼ í™ˆí˜ì´ì§€
â”‚       â”‚   â”œâ”€â”€ layout.tsx          # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚       â”‚   â”œâ”€â”€ not-found.tsx       # 404 í˜ì´ì§€
â”‚       â”‚   â”œâ”€â”€ globals.css         # ì „ì—­ ìŠ¤íƒ€ì¼
â”‚       â”‚   â”œâ”€â”€ manifest.ts         # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚       â”‚   â”œâ”€â”€ robots.ts           # SEO ë¡œë´‡
â”‚       â”‚   â”œâ”€â”€ sitemap.ts          # ë™ì  ì‚¬ì´íŠ¸ë§µ
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ [username]/         # ì‚¬ìš©ì ë¸”ë¡œê·¸ ë¼ìš°íŠ¸
â”‚       â”‚   â”‚   â”œâ”€â”€ page.tsx        # ë¸”ë¡œê·¸ í™ˆí˜ì´ì§€
â”‚       â”‚   â”‚   â””â”€â”€ posts/
â”‚       â”‚   â”‚       â”œâ”€â”€ page.tsx    # ê²Œì‹œë¬¼ ëª©ë¡
â”‚       â”‚   â”‚       â””â”€â”€ [slug]/
â”‚       â”‚   â”‚           â””â”€â”€ page.tsx # ê°œë³„ ê²Œì‹œë¬¼
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ dashboard/          # ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ
â”‚       â”‚   â”‚   â”œâ”€â”€ layout.tsx      # ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ
â”‚       â”‚   â”‚   â”œâ”€â”€ page.tsx        # ëŒ€ì‹œë³´ë“œ í™ˆ
â”‚       â”‚   â”‚   â””â”€â”€ blogs/
â”‚       â”‚   â”‚       â””â”€â”€ [id]/
â”‚       â”‚   â”‚           â””â”€â”€ page.tsx # ë¸”ë¡œê·¸ ì„¤ì •
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ sign-in/            # Clerk ì¸ì¦
â”‚       â”‚   â”‚   â””â”€â”€ [[...sign-in]]/
â”‚       â”‚   â”‚       â””â”€â”€ page.tsx
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ sign-up/            # Clerk íšŒì›ê°€ì…
â”‚       â”‚   â”‚   â””â”€â”€ [[...sign-up]]/
â”‚       â”‚   â”‚       â””â”€â”€ page.tsx
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ api/                # API ë¼ìš°íŠ¸
â”‚       â”‚       â”œâ”€â”€ webhooks/
â”‚       â”‚       â”‚   â””â”€â”€ clerk/
â”‚       â”‚       â”‚       â””â”€â”€ route.ts # Clerk ì›¹í›…
â”‚       â”‚       â””â”€â”€ dashboard/
â”‚       â”‚           â”œâ”€â”€ blogs/
â”‚       â”‚           â”‚   â”œâ”€â”€ route.ts # ë¸”ë¡œê·¸ CRUD
â”‚       â”‚           â”‚   â””â”€â”€ [id]/
â”‚       â”‚           â”‚       â”œâ”€â”€ route.ts
â”‚       â”‚           â”‚       â”œâ”€â”€ test-notion/
â”‚       â”‚           â”‚       â”‚   â””â”€â”€ route.ts
â”‚       â”‚           â”‚       â””â”€â”€ plugins/
â”‚       â”‚           â”‚           â”œâ”€â”€ route.ts
â”‚       â”‚           â”‚           â””â”€â”€ [pluginId]/
â”‚       â”‚           â”‚               â””â”€â”€ route.ts
â”‚       â”‚           â””â”€â”€ plugins/
â”‚       â”‚               â””â”€â”€ route.ts # í”ŒëŸ¬ê·¸ì¸ ì¹´íƒˆë¡œê·¸
â”‚       â”‚
â”‚       â”œâ”€â”€ components/              # React ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”œâ”€â”€ ui/                 # UI í”„ë¦¬ë¯¸í‹°ë¸Œ
â”‚       â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ tabs.tsx
â”‚       â”‚   â”‚   â””â”€â”€ ... (ê¸°íƒ€ UI ì»´í¬ë„ŒíŠ¸)
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ common/             # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ theme-provider.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ theme-toggle.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ error-boundary.tsx
â”‚       â”‚   â”‚   â””â”€â”€ progressive-blur-backdrop.tsx
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ layout/             # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ footer.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ blog-header.tsx
â”‚       â”‚   â”‚   â””â”€â”€ platform-header.tsx
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ dashboard/          # ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚       â”‚   â”‚   â”œâ”€â”€ blog-card.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ create-blog-button.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ blog-settings-form.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ notion-config-form.tsx
â”‚       â”‚   â”‚   â””â”€â”€ plugin-manager.tsx
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ blog-card.tsx       # ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ ì¹´ë“œ
â”‚       â”‚
â”‚       â”œâ”€â”€ lib/                    # ìœ í‹¸ë¦¬í‹° ë° ì„¤ì •
â”‚       â”‚   â”œâ”€â”€ utils.ts            # ì¼ë°˜ ìœ í‹¸ë¦¬í‹°
â”‚       â”‚   â”œâ”€â”€ supabase.ts         # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚       â”‚   â”œâ”€â”€ validation.ts       # í¼ ê²€ì¦
â”‚       â”‚   â”œâ”€â”€ cache.ts            # ìºì‹œ ìœ í‹¸ë¦¬í‹°
â”‚       â”‚   â”œâ”€â”€ error-handling.ts   # ì˜¤ë¥˜ ì²˜ë¦¬
â”‚       â”‚   â”œâ”€â”€ og-image.ts         # OG ì´ë¯¸ì§€ ìƒì„±
â”‚       â”‚   â””â”€â”€ performance.ts      # ì„±ëŠ¥ ìœ í‹¸ë¦¬í‹°
â”‚       â”‚
â”‚       â”œâ”€â”€ hooks/                  # ì‚¬ìš©ì ì •ì˜ React í›…
â”‚       â”‚   â”œâ”€â”€ use-scroll-progress.ts
â”‚       â”‚   â””â”€â”€ use-table-of-contents.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ middleware.ts           # Next.js ë¯¸ë“¤ì›¨ì–´
â”‚       â”œâ”€â”€ site.config.ts          # ì‚¬ì´íŠ¸ ì„¤ì •
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ tsconfig.json
â”‚       â”œâ”€â”€ next.config.js
â”‚       â”œâ”€â”€ tailwind.config.js
â”‚       â””â”€â”€ postcss.config.js
â”‚
â”œâ”€â”€ ğŸ“š docs/                         # ë¬¸ì„œ
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md        # ì´ íŒŒì¼
â”‚   â”œâ”€â”€ API_REFERENCE.md            # API ë¬¸ì„œ
â”‚   â”œâ”€â”€ PLUGIN_DEVELOPMENT.md       # í”ŒëŸ¬ê·¸ì¸ ê°€ì´ë“œ
â”‚   â””â”€â”€ MIGRATION-GUIDE.md          # ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ
â”‚
â”œâ”€â”€ ğŸ—„ï¸ supabase/
â”‚   â””â”€â”€ migrations/
â”‚       â””â”€â”€ 20250709_initial_schema.sql  # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚
â”œâ”€â”€ ğŸ“‹ ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ package.json                # ë£¨íŠ¸ package.json
â”‚   â”œâ”€â”€ pnpm-workspace.yaml         # pnpm ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì„¤ì •
â”‚   â”œâ”€â”€ turbo.json                  # Turborepo ì„¤ì •
â”‚   â”œâ”€â”€ tsconfig.json               # ë£¨íŠ¸ TypeScript ì„¤ì •
â”‚   â”œâ”€â”€ vercel.json                 # Vercel ë°°í¬
â”‚   â”œâ”€â”€ .gitignore
â”‚   â””â”€â”€ .env.example                # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”‚
â””â”€â”€ ğŸ“– ë¬¸ì„œ íŒŒì¼
    â”œâ”€â”€ README.md                   # ë©”ì¸ ë¬¸ì„œ
    â”œâ”€â”€ MULTI_TENANT_SETUP.md       # ë©€í‹° í…Œë„ŒíŠ¸ ê°€ì´ë“œ
    â”œâ”€â”€ CONTRIBUTING.md             # ê¸°ì—¬ ê°€ì´ë“œ
    â”œâ”€â”€ CHANGELOG.md                # ë²„ì „ íˆìŠ¤í† ë¦¬
    â”œâ”€â”€ CODE_OF_CONDUCT.md          # ì»¤ë®¤ë‹ˆí‹° ê°€ì´ë“œë¼ì¸
    â”œâ”€â”€ SECURITY.md                 # ë³´ì•ˆ ì •ì±…
    â””â”€â”€ LICENSE                     # MIT ë¼ì´ì„ ìŠ¤
```

## ğŸ”§ ì£¼ìš” êµ¬ì„± ìš”ì†Œ

### í•µì‹¬ ì•„í‚¤í…ì²˜

1. **ëª¨ë…¸ë ˆí¬ êµ¬ì¡°**
   - ì˜ì¡´ì„± ê´€ë¦¬ë¥¼ ìœ„í•œ pnpm ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì‚¬ìš©
   - ìµœì í™”ëœ ë¹Œë“œì™€ ìºì‹±ì„ ìœ„í•œ Turborepo
   - npmì— ë°°í¬ ê°€ëŠ¥í•œ ë…ë¦½ì ì¸ íŒ¨í‚¤ì§€ë“¤

2. **í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ**
   - ì½”ì–´ ìˆ˜ì • ì—†ì´ ê¸°ëŠ¥ ì¶”ê°€ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜
   - í”ŒëŸ¬ê·¸ì¸ì—ì„œ ì»´í¬ë„ŒíŠ¸, API ë¼ìš°íŠ¸, í›… ë“±ë¡ ê°€ëŠ¥
   - ë¸”ë¡œê·¸ë³„ í”ŒëŸ¬ê·¸ì¸ ì„¤ì •ì„ ì§€ì›í•˜ëŠ” ë©€í‹° í…Œë„ŒíŠ¸ ì§€ì›

3. **ë©€í‹° í…Œë„ŒíŠ¸ SaaS**
   - ê° ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ë¸”ë¡œê·¸ ìƒì„± ê°€ëŠ¥
   - `/{username}` ë¼ìš°íŠ¸ì—ì„œ ë¸”ë¡œê·¸ ì ‘ê·¼ ê°€ëŠ¥
   - Supabase RLSë¥¼ ì‚¬ìš©í•œ ì™„ì „í•œ ë°ì´í„° ê²©ë¦¬

### ê¸°ìˆ  ìŠ¤íƒ

- **í”„ë¡ íŠ¸ì—”ë“œ**: Next.js 14 (App Router), React 18, TypeScript
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS, Radix UI ì»´í¬ë„ŒíŠ¸
- **ì¸ì¦**: Clerk (OAuth, JWT)
- **ë°ì´í„°ë² ì´ìŠ¤**: Supabase (RLSê°€ ì ìš©ëœ PostgreSQL)
- **CMS**: Notion API í†µí•©
- **ë¹Œë“œ**: Turborepo, pnpm, tsup
- **ë°°í¬**: Vercel ì§€ì›

### ë°ì´í„° í”Œë¡œìš°

1. **ì¸ì¦ í”Œë¡œìš°**
   ```
   ì‚¬ìš©ì â†’ Clerk OAuth â†’ ì›¹í›… â†’ Supabase ì‚¬ìš©ì ìƒì„± â†’ ëŒ€ì‹œë³´ë“œ ì ‘ê·¼
   ```

2. **ì½˜í…ì¸  í”Œë¡œìš°**
   ```
   Notion ë°ì´í„°ë² ì´ìŠ¤ â†’ API ë™ê¸°í™” â†’ Supabase ìºì‹œ â†’ Next.js SSG â†’ ê³µê°œ ë¸”ë¡œê·¸
   ```

3. **í”ŒëŸ¬ê·¸ì¸ í”Œë¡œìš°**
   ```
   í”ŒëŸ¬ê·¸ì¸ ë“±ë¡ â†’ ë¸”ë¡œê·¸ ì„¤ì • â†’ ëŸ°íƒ€ì„ ë¡œë”© â†’ ê¸°ëŠ¥ í™•ì¥
   ```

## ğŸ¯ ê°œë°œ ì›Œí¬í”Œë¡œìš°

1. **íŒ¨í‚¤ì§€ ê°œë°œ**
   - `/packages/*`ì— ë…ë¦½ì ì¸ íŒ¨í‚¤ì§€
   - `pnpm build:packages`ë¡œ ë¹Œë“œ
   - ê°œë°œ ì¤‘ í•« ë¦¬ë¡œë“œ

2. **í”ŒëŸ¬ê·¸ì¸ ê°œë°œ**
   - `/packages/plugin-*`ì— ìƒˆ í”ŒëŸ¬ê·¸ì¸ ìƒì„±
   - `NoxionPlugin` ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
   - í”ŒëŸ¬ê·¸ì¸ ì¹´íƒˆë¡œê·¸ì— ë“±ë¡

3. **ê¸°ëŠ¥ ê°œë°œ**
   - `/apps/web/app/dashboard`ì— ëŒ€ì‹œë³´ë“œ ê¸°ëŠ¥
   - `/apps/web/app/[username]`ì— ê³µê°œ ë¸”ë¡œê·¸ ê¸°ëŠ¥
   - `/apps/web/components`ì— ê³µìœ  ì»´í¬ë„ŒíŠ¸

4. **í…ŒìŠ¤íŠ¸ ë° ë°°í¬**
   - `pnpm type-check`ë¡œ íƒ€ì… ê²€ì‚¬
   - `pnpm lint`ë¡œ ë¦°íŠ¸
   - Vercel ë˜ëŠ” Dockerë¡œ ë°°í¬